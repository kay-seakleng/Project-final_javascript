<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="shortcut icon" href="bitcoin.png" type="image/x-icon">
    <title>Create Account</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">

    
    <link href="bootstrap.min.css" rel="stylesheet">
    <script src="bootstrap.bundle.min.js"></script>
    <link href="stylelogin.css" rel="stylesheet">
    
    <style>
        .height{
            height: 100vh;
        }
        .mt{
            margin-top: 180px;
        }
        .ppp{
            padding: 70px 125px;
        }
    </style>
</head>
<body>



    <div class="bg-image d-flex align-items-center justify-content-center">
        <div class="login-card col-md-4 col-sm-8">
            <h1 class="text-center mb-4">Create an Account</h1>
            <form id="formCreate" >


                <div class="">
                    <label for="">Username</label>
                    <input required type="text" placeholder="Enter Username" class="form-control shadow-none bg-light" id="username">
                </div>

                <div class="">
                    <label for="">Email</label>
                    <input required type="email" placeholder="Enter email" class="form-control shadow-none bg-light" id="email">
                </div>
    
                <label for="" class="mt-3">Password</label>
                <div class="d-flex align-items-center border border-1  rounded-4">
                    
                    <input required type="password" placeholder="Enter password" class=" form-control shadow-none  border-0 ps-3 bg-light rounded rounded-start-5" id="password">
                    <div class="bg-light-subtle p-2 rounded rounded-end-4">
    
                         <i class="bi bi-eye d-none text-dark" id="hide1" onclick="getHide1()"></i>
                         <i class="bi bi-eye-slash text-dark" id="show1" onclick="getShow1()"></i>
    
                    </div>
                </div>

                <label for="" class="mt-3">Confirm password</label>
                <div class="d-flex align-items-center border border-1  rounded-4">
                    
                    <input required type="password" placeholder="Enter password" class=" form-control shadow-none  border-0 ps-3 bg-light rounded rounded-start-5" id="cfPassword">
                    <div class="bg-light-subtle p-2 rounded rounded-end-4">
    
                         <i class="bi bi-eye d-none text-dark" id="hide2" onclick="getHide2()"></i>
                         <i class="bi bi-eye-slash text-dark" id="show2" onclick="getShow2()"></i>
    
                    </div>
                </div>


               
                <div class="d-flex justify-content-center">
                    <button type="submit" class="btn border border-2 rounded my-3" onclick="createAcc()">Create</button>
                    </div>
            </form>
            <p class="error text-danger"></p>
            <div class="text-center mt-3">
                <small>Do you want to back? <a href="#" style="color: #025c3a;" onclick="logout()">Back</a></small>
            </div>        
        </div>
    </div>
 






    <script>
        function createAcc(){
            document.getElementById("formCreate").addEventListener("submit", function(event){
            event.preventDefault()

            const username = document.querySelector('#username').value.trim()
            const email = document.querySelector('#email').value.trim()
            const password = document.querySelector('#password').value.trim()
            const cfPassword = document.querySelector('#cfPassword').value.trim()
            
            const errorElement = document.querySelector(".error")
            
            if(cfPassword !== password){
                errorElement.textContent = 'Your confirm password is not match.'
                return
            }

            const user = {
                Username: username,
                Email: email,
                Password: password,
            };

            let users = JSON.parse(localStorage.getItem('users')) || [];

            const existingUser = users.find((e) => e.Username === username);
            if (existingUser){
                alert("Username already exists!");
                return
            }

            users.push(user);
            localStorage.setItem('users', JSON.stringify(users));

            alert("Successful! ,please login")
            window.location.href = 'index.html'
            });
        }

         function logout(){
        sessionStorage.clear()
        window.location.href = 'index.html'
    }
    </script>
<script src="hide_show.js"></script>
</body>
</html>